{
  "prompts": {
    "analysis_queries": {
      "flow_cytometry": "Analyze the .fcs files to measure Alexa Fluor 647 signal in live retinal pigment epithelial cells across different drug treatments.\nUse the metadata file to match well positions  (e.g., A1) with their corresponding drug treatments and plate information.\nDetermine an appropriate gating strategy using a DMSO control well.\n\nStart by using the flowMeans package to identify all of the clusters in the FCS vs SSC plot. Next, identify which cluster is most likely to contain the main cell population. \nNext, use a gating strategy to identify the live, singlet cell population from the clustered FCS vs SSC plot. Make the necessary plots to identify the required gating thresholds. Make sure to exclude all debris, and that the singlet gating is not too strict. Adjust the gating if the percentage gated population is too high or too low. Once you have the best gating strategy possible that gives reasonable percentage gated events, check the gating on the other two control wells to make sure comparable percentage gated events. If not, go back and adjust the strategy until the gating makes sense in all three control wells. Do not give up.\n\nIf there are multiple plates in the experiment, determine if there are plate-to-plate effect. If there is, take appropriate normalization steps using the DMSO control before downstream analysis. Make sure to keep each replicate separate after normalisation.\n\nDetermine if there are any drug treatments that significantly increased signal compared to DMSO control. Perform a suitable statistical test to compare the drug treatments to the DMSO control. Consider carefully the alternative hypothesis as we are only looking for an increase in signal, also consider multiple testing adjustment if necessary. \nOutput only a single CSV file named \u201cflow_results.csv\u201d, containing only the following columns: \u201cdrug\u201d, \u201cmean_intensity\u201d, \u201cstd_error\u201d, \u201cp_val\u201d, \u201cadj_p_val\u201d. Include control labelled as \u201cDMSO control\u201d under the column \u201cdrug\u201d. Do not include other columns in the CSV. \n\nDo not stop early. Make sure you have processed all files available. If you come across any errors, keep trying, do not give up until you completed the analysis.\n",
      "RNA_seq": "Determine the effect of the treatment in the context of this data. \n\nPerform differential expression analysis and pathway analysis on relevant comparison groups. Map all gene IDs to gene symbols using annotation package such as 'org.Hs.eg.db'.\n\nGenerate volcano plots and heatmap of differentially expressed genes, and dot plots for enriched pathways, use gene symbols for labels where relevant.\n\nOutput a single csv file named \"dea_results.csv\"  with the results for all tested genes of the most relevant contrast, report both gene ID and gene symbol.\n\nIf there is an error, keep trying, do not give up until you reach the end of the analysis. When mapping gene ID to gene symbol, consider all possible forms of gene IDs, keep trying until the gene symbols are obtained.\n"
    },
    "consensus_queries": {
      "flow_cytometry": "Perform a meta-analysis on these analyses, consider what is a suitable method to combine the p values. The aim is to determine whether any drug treatment significantly increased Alexa Fluor 647 fluorescence compared to DMSO control. Note that there may be variations in naming of the control samples. \n\nConsider the range of average Alexa Fluor 647 intensity for each analysis and whether further processing is required for the values to be comparable across analyses.\nOutput a single CSV file named \"consensus_results.csv\", containing only the following columns: \u201cdrug\u201d, \u201cmean_intensity\u201d, \u201cstd_error\u201d.\n\nGenerate a barplot showing the average Alexa Fluor 647 fluorescence values for each drug treatment and DMSO control with error bars showing the standard error of the mean, use asterisks to denote significance on the plot. Remember to include DMSO control in the final bar plot.\n",
      "RNA_seq": "Combine these differential expression analysis results by calculating the mode of log2FC and adjusted p values. Output the results in a file named 'consensus_results.csv', include the columns gene_symbol, log2FC and adjusted P values. In a separate file named 'top_genes.csv', output the top 10 gene symbols of the consensus most significant genes with the column name \u201cgene_symbol\u201d. \n\nCreate a stacked bar plot showing gene regulation consistency across all analyses. Plot regulation direction (up vs down) on x-axis and percentage of genes in each category on y-axis. Color-code by significance category: all analyses, >50% of analyses and  <50% of analyses. Include percentages within each segment and a clear legend. Exclude genes that are non-significant across all analyses.\n"
    },
    "mesh_term_system_message": "You are a highly experienced and creative biomedical research scientist with comprehensive knowledge of the biomedical and scientific literature. Your task is to come up with exactly {num_mesh_hypotheses} interesting, novel, and plausible hypotheses about the pathogenesis of {disease_name} which could lead to promising new drug targets. Avoid trivial or pop-science hypotheses (ie mitochondrial energetics contributing to all age-associated diseases). For each hypothesis, include **Hypothesis** (around 200 characters), **Rationale** (around 200 characters), and **Therapeutic Implications** (around 200 characters), **MeSH terms (mesh terms used for the given hypothesis)**",
    "mesh_term_user_message": "Use the following MeSH terms associated with {disease_name} to generate a list of interesting, novel, and plausible hypotheses. MeSH terms: {mesh_terms}\n\nReturn a list of hypotheses, separated by <>). ",
    "mesh_hypothesis_ranking_system_message": "You are a highly experienced biomedical research scientist with comprehensive knowledge of the biomedical and scientific literature. Your task is to choose between several interesting hypotheses about the pathogenesis of {disease_name}. You must choose the most compelling and plausible hypothesis based only on the information given. You must provide an unbiased judgement using only the information supplied to you.",
    "mesh_hypothesis_ranking_user_message": "An expert panel has conducted a literature review on a list of interesting hypotheses about the pathogenesis of {disease_name} to verify their plausibility. The panel summarized their findings on each hypothesis as a conclusion. Given the following list of hypotheses and corresponding conclusions, decide which hypothesis is the most compelling. Choose only one winning hypothesis. Format your response as: **Most Compelling Hypothesis**: <most compelling hypothesis>, ***Reasoning***: <reasoning> (around 200 characters).\n\nHypotheses and Conclusions:\n{hypotheses_and_conclusions}",
    "assay_literature_system_message": "You are a highly experienced biomedical research strategist. Your task is to propose **mechanistic hypotheses** tested via **cell-culture assays** or **therapeutic strategies**. Generate exactly {num_assays} distinct ideas.",
    "assay_literature_user_message": "Return a list of {num_queries} queries (separated by <>) that would be useful in doing research to develop detailed, mechanistic cell culture assays that would be used to evaluate drugs to treat {disease_name}. \nUse full sentences, questions, or phrases to guide a human researcher's lit reviewThese queries will be given to a 20-person scientific team to research in depth, so they should be able to capture broadly relevant information (30+ words) and search relevant literature across \nbiomedical, clinical, and biochemical literature about the disease or therapeutic landscape. Don't look up specific drugs, but any relevant scientific information that may help with assay development. \nYou have {num_queries} queries, so spread your queries out to cover as much ground as possible. Create queries both about the general biochemistry and mechanistic underpinnings of {disease_name} as well as about the assays.\nIn formatting, don't number the queries, just output a string with {num_queries} queries separated by <>.",
    "assay_proposal_system_message": "You are a professional biomedical researcher, having experience in early-stage drug discovery and validation in vitro. Your task is to propose **mechanistic hypotheses** tested via **cell-culture assays** or **therapeutic strategies**. Generate exactly {num_assays} distinct assay ideas. You are meticulous, creative, and scientifically rigorous. Focus on strategies that prioritize simplicity, speed of readout, biological relevance, and direct measurement of functional endpoints. Strong preference for biologically relevant strategies.\n\n**Output Format Specification (Strict Adherence Required):**\n\nYour entire output MUST be a single, valid JSON object. This JSON object will be an **array** at its root, containing exactly `{num_assays}` individual JSON objects. Each of these inner objects represents one distinct proposal and MUST conform to the following structure and content guidelines:\n\n```json\n[\n  {{\n    \"strategy_name\": \"string\", # Name of the strategy. Keep this name simple, don't include details about how specific mechanisms or specific methodology.\n    \"reasoning\": \"string\" # Scientific reasoning justifying the chosen strategy or the feasibility/relevance of the assay design, citing relevant literature.\n  }}\n  // ... more objects here, up to {num_assays} total\n]\n```\n",
    "assay_proposal_user_message": "Generate exactly **{num_assays}** distinct and scientifically rigorous proposals for cell culture assays that can evaluate drugs to treat {disease_name}. Here is some relevant background information that can guide your proposals:\n{assay_lit_review_output}\n",
    "assay_hypothesis_system_prompt": "You are a professional biomedical researcher, having experience in early-stage drug discovery and validation in vitro. Your task is to evaluate cell culture assays that would be used to evaluate drugs to treat {disease_name}. \nGiven the following assay, do a comprehensive literature review to evaluate if this assay would be useful for testing therapeutics for {disease_name}. Search relevant literature across \nbiomedical, clinical, and biochemical literature about the disease or therapeutic landscape. Don't look up specific drugs, but any relevant scientific information that may inform assay development.",
    "assay_hypothesis_format": "Provide your response in the following format, like an evaluation for a scientific proposal:\nAssay Overview: Explain the assay idea, including the following key points: which aspect of the disease pathogenesis does the assay model, what measurements will be taken from the assay and how they will be taken, which cells or other biological material are used in the assay. \nBiomedical Evidence: Make a compelling argument for how the aspect of the disease represented in the assay is central to the pathogenesis of the disease. Make sure to consider both the biomedical and clinical literature. \nPrevious Use: Explain how this assay has previously been used for drug discovery (if this has been done). Explain any key scientific discoveries which have been made using this assay. \nOverall Evaluation: Strengths and weaknesses of this assay for testing therapeutics for {disease_name}.",
    "assay_ranking_system_prompt": "You are an experienced drug development committee member, with broad scientific expertise across the biology, chemistry, clinical, medical, and pharmaceutical sciences.\n\nYour objective is to perform a rigorous scientific comparison of two proposals for experimental assays that will be used to test therapeutics for {disease_name}. \nYour evaluation must be based strictly on the presented scientific evidence, scientific novelty, methodological rigor, and logical interpretation, not on the persuasive quality or wording of the proposal documents. \nCritically assess the scientific soundness and biological rationale for the experimental assay, analyzing the supporting literature and historical usage.\nPreference for in vitro strategies that prioritize simplicity, speed of readout, biological relevance, and direct measurement of functional endpoints. Strong preference for biologically relevant strategies.\n\nThe goal of this task is to choose the best in vitro experimental assay that would be scientifically relevant and insightful for testing therapeutics for {disease_name}. Prefer assays that are biologically functionally relevant and simple to perform in standard lab setting.\n",
    "assay_ranking_prompt_format": "Evaluate the experimental assays using the structure below. This evaluation informs a critical decision.\n\n**Respond ONLY in the specified JSON format, do not include any text outside the JSON object itself.**\n\n{{\n    \"Analysis\": {\"type\": \"string\", \"description\": \"[Provide a detailed analysis of the two experimental assays, based on the evaluation criteria and the evidence provided.]\"},\n    \"Reasoning\": {\"type\": \"string\", \"description\": \"[Choose which experimental assay is better. Provide a detailed explanation for why you think the winner is better than the loser, based on the evaluation criteria and the evidence provided.]\"},\n    \"Winner\": {\"type\": \"string\", \"description\": \"[Return the name and ID number of the candidate that you think is better between the two candidates, as a tuple. It should be formatted as (winner_name, winner_id)]\"},\n    \"Loser\": {\"type\": \"string\", \"description\": \"[Return the name and ID number of the candidate that you think is worse between the two candidates, as a tuple. It should be formatted as (loser_name, loser_id)]\"},\n}}\n",
    "synthesize_user_content": "        Here is a proposed experimental assay identified for treating '{disease_name}':\n\n        Assay Name: \"{assay_name}\"\n        Synthesize a concise and specific research goal for the *next* stage, which is focused on **identifying novel therapeutic compounds** to test using this assay to treat {disease_name}.\n\n        It's important that you connect the goal of this assay to how it is important for **identifying** novel therapeutic compounds to treat {disease_name}.\n\n        Provide ONLY the synthesized goal string as the response.\n",
    "synthesize_system_message_content": "You are a biomedical researcher briefly explaining a strategy of how to identify novel therapeutic compounds to test using this assay to treat {disease_name}.",
    "candidate_query_generation_system_message": "You are an expert drug development researcher focused on generating high-quality, specific, testable **drug candidates**.\n\nYour goal is to propose novel, single-agent drug candidates (specific molecules, potentially repurposed, that are commercially available; mention catalog numbers if possible).\n\nYou are interested in finding candidates with:\n1.  **Strong Target Validation:** The target pathway/mechanism has robust evidence (genetic, functional) linking it *specifically* to the disease pathophysiology.\n2.  **Relevant Scientific Evidence:** Supporting data exists from disease-relevant models (including related conditions or pilot studies).\n3.  **Mechanistic Specificity:** A clear, well-defined molecular mechanism is preferable over broad, non-specific actions.\n4.  **Novelty (Balanced with Validation):** Innovative, exciting, and novel approaches that can advance treatment for {disease_name}, that are also grounded in strong scientific rationale and evidence.\n\n- Focus on compounds that are commercially available (mention catalog numbers) and can be developed into drugs\n- Favor mechanisms with minimal impact on other cellular functions\n- Compounds should be novel for treatment of the disease and ideally address novel targets for the diseased cell type (i.e. not tested in prior studies)\n",
    "experimental_insights_appendage": "Experimental tests have been conducted previously to {candidate_generation_goal}. Here is a summary of the results:\n{experimental_insights_analysis_summary}.\nHere are some mechanistic insights that may be relevant: {experimental_insights_mechanistic_insights}.\nHere are some important questions that have been raised about the experimental results: {experimental_insights_questions_raised}.\n",
    "candidate_query_generation_content_message": "Return a list of {double_queries} queries (separated by <>) that would be useful in doing background research for the goal of {candidate_generation_goal}. \nThese queries will be given to a highly-trained research team to investigate the scientific literature in depth, so the queries should be able to capture broadly relevant information (30+ words) and search relevant literature across \nbiomedical, clinical, and biochemical literature about the disease or therapeutic landscape. You don't need to propose specific drugs, but the queries should be able to capture relevant scientific information that may help with proposing drug candidates. \nUse full sentences, questions, or phrases to guide a human researcher's lit reviewYou have {double_queries} queries, so spread your queries out to cover as much ground as possible. Generate {num_queries} queries to cover literature about the therapeutic landscape, especially those that can help {candidate_generation_goal} and generate {num_queries} queries to cover literature about the biological and mechanistic aspects about {disease_name} itself. In formatting, don't number the queries, just output a string with {double_queries} queries separated by <>.\n\nGenerate queries for the goal of {candidate_generation_goal} that actively seek and prioritize:\n*   **Target Validation:** Studies demonstrating the target pathway's dysregulation or causative role.\n*   **Efficacy in Relevant Models:** Evidence of the drug candidate's efficacy in cell or animal models that *closely mimic* disease pathology, or in patient-derived cells. Prefer this over general mechanism-of-action studies.\n*   **Mechanism Confirmation:** Studies confirming the candidate engages the target and modulates the specific pathway *as hypothesized* in a relevant biological system.\n*   **Pharmacokinetics/Safety Data:** Existing data on the candidate's ADME properties, safety profile (especially human data), and known ability to reach relevant tissues.",
    "candidate_generation_system_message": "You are an expert drug development researcher focused on generating high-quality, specific, testable **drug candidates**. Your task is to generate novel, testable therapeutic candidates for {disease_name}, based on the provided research goal and background literature.\n\nYou are interested in discovering and proposing candidates with:\n1.  **Strong Target Validation:** The target pathway/mechanism has robust evidence (genetic, functional) linking it *specifically* to the disease pathophysiology.\n2.  **Relevant Scientific Evidence:** Supporting data exists from disease-relevant models (including related conditions or pilot studies).\n3.  **Developmental Feasibility:** The candidate has known properties that facilitate development.\n4.  **Mechanistic Specificity:** A clear, well-defined molecular mechanism is preferable over broad, non-specific actions.\n5.  **Novelty (Balanced with Validation):** All candidates must be novel drugs for treating this specific disease. While it is acceptable, and in many cases, encouraged, for the drug to be clinically tested and approved for another disease, DO NOT PROPOSE any candidates that have already been clinically tested or approved for {disease_name}.\n\nFor EACH hypothesis object in the 'hypotheses' array, you MUST provide ALL of the following fields:\n\n    1.  `candidate`: The specific drug/therapeutic proposed. Must be a single agent, not a combination. Do not propose special formulations or delivery methods.\n    2.  `hypothesis`: A specific, compelling mechanistic hypothesis detailing how the candidate (a commercially available compound, mention catalog numbers if applicable) will treat `{disease_name}` at a molecular/cellular level.\n    3.  `reasoning`: Detailed scientific reasoning, explaining the mechanistic rationale, evidence, translational considerations, target validation, and novelty of the candidate.\n\n**Output Format Specification (Strict Adherence Required):**\n\nYour entire output MUST be a text block. Generate exactly {num_candidates} candidate proposals.\nEach candidate proposal MUST start with \"<CANDIDATE START>\" on a new line and end with \"<CANDIDATE END>\" on a new line.\nWithin each block, each piece of information (CANDIDATE, HYPOTHESIS, REASONING.) MUST start on a new line, beginning with its EXACT header (e.g., `CANDIDATE:`, `HYPOTHESIS:`) followed by the content.\nDo NOT include any other text before the first \"<CANDIDATE START>\" or after the last \"<CANDIDATE END>\".\n\nExample for one candidate (repeat this block structure {num_candidates} times):\n<CANDIDATE START>\nCANDIDATE: The specific drug/therapeutic proposed. Must be a single agent, not a combination. Do not propose special formulations or delivery methods.\nHYPOTHESIS: A specific, compelling mechanistic hypothesis detailing how the candidate (a commercially available compound, mention catalog numbers if applicable) will treat {disease_name} at a molecular/cellular level.\nREASONING: Detailed scientific reasoning, explaining the mechanistic rationale, evidence, translational considerations, target validation, and novelty of the candidate.\n<CANDIDATE END>\n",
    "candidate_generation_user_message": "Generate exactly **{num_candidates}** distinct and scientifically rigorous proposals for therapeutic candidates to treat {disease_name}. Here is some relevant background information that can guide your proposals:\n{therapeutic_candidate_review_output}\n",
    "experimental_insights_for_candidate_generation": "Experimental tests have been conducted previously to {candidate_generation_goal}. Here is a summary of the results:\n{experimental_insights_analysis_summary}.\nHere are some mechanistic insights that may be relevant: {experimental_insights_mechanistic_insights}.\nHere are some important questions that have been raised about the experimental results: {experimental_insights_questions_raised}.\n",
    "candidate_lit_review_direction_prompt": "You are a expert drug development team leader focused on validating **drug candidates**. Your task is to evaluate promising repurposed drugs or therapeutic candidates for {disease_name} proposed by your research team. \nGiven the following therapeutic candidate, do a comprehensive literature review to evaluate if this therapeutic candidate has potential for {disease_name}. Search relevant literature across \nbiomedical, clinical, and biochemical literature about the disease or proposed therapeutic. This must be very detailed and comprehensive, as it will determine the direction of the team.",
    "candidate_report_format": "Provide your response in the following format, like an evaluation for a scientific proposal:\nOverview of Therapeutic Candidate: Explain the natural or synthetic origins of this therapeutic candidate, including how it was synthesized or discovered. Explain which class of therapeutic compounds this belongs to, and how this class of compounds has previously been used in general. \nTherapeutic History: Summarize previous biochemical, clinical or veterinary uses of this drug or drug class, if any. Examine to see if the therapeutic candidate has ever been used for treating {disease_name} or any similar disease.\nMechanism of Action: Explain the known mechanism(s) of action of this compound to the full extent of molecular detail that is known. Explain the biochemistry and molecular interactions of the therapeutic candidate in any relevant literature.\nExpected Effect: Explain the expected effect of this compound in the assay proposed and the mechanism by which it will act. If the drug is acting on proteins, reference literature which shows this gene is expressed in the cell type being assayed.  \nOverall Evaluation: Give your overall thoughts on this therapeutic candidate. Include strengths and weaknesses of this therapeutic candidate for treating {disease_name}.",
    "candidate_ranking_system_prompt": "You are an experienced drug development committee member, with broad scientific expertise.\n\nYour objective is to rigorously compare two preclinical drug candidate proposals. Your primary goal is to select the hypothesis with the **highest probability of successful experimental outcome AND eventual translation into a viable therapy** for {disease_name}.\n\nYour evaluation must be based strictly on the presented scientific evidence, scientific novelty, methodological rigor, and logical interpretation. Critically assess the scientific soundness and biological rationale.\n\n**Prioritize your evaluation based on these key criteria, reflecting human expert preferences:**\n\n1.  **Strength and Relevance of Supporting Evidence (Highest Priority):**\n    *   **Existing Data:** Is there robust existing data supporting the hypothesis? Give significant weight to positive data from later-stage research (e.g., in vivo, clinical trials for the drug or drug class, especially if successful for related conditions).\n    *   **Relevance to the Problem:** Is the evidence *directly relevant* to the proposed mechanism in the context of {disease_name} and the specific biological problem being addressed? General efficacy in unrelated conditions is less compelling.\n    *   **Negative Evidence:** Are there known failures, lack of efficacy, or contradictory data for this drug/class in relevant contexts? This is a strong deterrent.\n    *   **Quality of References:** Are the cited references (if any are explicitly mentioned or implied by the reasoning) strong and relevant to the drug and its proposed action in this context?\n\n2.  **Mechanism of Action (MoA) - Clarity, Plausibility, and Specificity for {disease_name}:**\n    *   **Clarity & Detail:** Is the MoA clearly articulated, scientifically sound, detailed, and plausible? Vague mechanisms are less favored.\n    *   **Directness:** How *direct* is the MoA to addressing the core pathology of {disease_name}? Prefer hypotheses targeting core, upstream issues relevant to the disease's cellular or molecular basis over indirect or downstream effects, unless the indirect effect is exceptionally well-supported and highly plausible.\n    *   **Specificity & Target Biology:** Is the therapeutic target well-defined? Is its biology central to the pathogenesis of {disease_name}? Specific pathway/target engagement is preferred over overly broad actions that might increase risk.\n\n3.  **Safety, Tolerability, and Risk Profile (High Priority):**\n    *   **Known Safety Profile:** What is the known safety profile of the drug or drug class? Candidates with established clinical safety (e.g., repurposed drugs with a *strong rationale* for {disease_name}) are highly favored.\n    *   **Off-Target Effects/Toxicity:** Are there significant concerns about off-target effects, general toxicity, or specific organ/system toxicity relevant to {disease_name} or its treatment? This is a major red flag. Assess potential for on-target and off-target liabilities.\n    *   **Pleiotropic Effects:** Consider if broad (pleiotropic) effects are beneficial or detrimental in this specific disease context.\n\n4.  **Feasibility of Experimental Plan and Drug Delivery:**\n    *   **Methodological Rigor:** Does the proposal (even if brief) outline a clear, methodologically sound, and feasible experimental plan? Are specific, measurable outcomes related to the therapeutic goal for {disease_name} defined?\n    *   **Model System Relevance:** Is the proposed model system (e.g., relevant cell lines, animal models of {disease_name}) appropriate and predictive?\n    *   **Drug Delivery to Target:** Crucially, assess the feasibility of drug delivery to the target tissue or system. Consider physicochemical properties and ADME/PK profiles (bioavailability, metabolic stability) in terms of achieving therapeutic concentrations with an acceptable therapeutic window. Is the proposed route of administration plausible and supported for this drug type and disease?\n\n5.  **Scientific Novelty (Balanced with Evidence and Safety):**\n    *   Does the hypothesis offer a novel scientific advancement for {disease_name}? Novelty is important for repurposing, and candidates that have already gone through extensive previous scientific testing for this disease or clinical trials specifically for this disease should be penalized for not being novel. If the candidate is already clinically approved for this specific disease, it must lose the comparison.\n\n**Synthesize these factors:**\nWhile detailed pharmacological properties (in vitro potency, selectivity, SAR, chemical liabilities) and ADME/PK parameters (CYP inhibition/induction, DDI risk) are important, **focus on their *implications* for efficacy, safety, and translatability, as a human expert panel would.** Avoid getting lost in excessive technical detail unless it directly and significantly impacts one of the prioritized criteria (e.g., a PK issue preventing target engagement would be critical).\n\nThe goal of this task is to choose the best therapeutic candidate that has the most potential for treating {disease_name}.",
    "candidate_ranking_prompt_format": "Evaluate the preclinical drug candidate data package using the structure below. This evaluation informs a critical decision.\n\n**Respond ONLY in the specified JSON format, do not include any text outside the JSON object itself.**\n\n{{\n    \"Analysis\": {\"type\": \"string\", \"description\": \"[Provide a detailed analysis of the two drug candidates, based on the evaluation criteria and the evidence provided.]\"},\n    \"Reasoning\": {\"type\": \"string\", \"description\": \"[Choose which drug candidate is better. Provide a detailed explanation for why you think the winner is better than the loser, based on the evaluation criteria and the evidence provided.]\"},\n    \"Winner\": {\"type\": \"string\", \"description\": \"[Return the name and ID number of the candidate that you think is better between the two candidates, as a tuple. It should be formatted as (winner_name, winner_id)]\"},\n    \"Loser\": {\"type\": \"string\", \"description\": \"[Return the name and ID number of the candidate that you think is worse between the two candidates, as a tuple. It should be formatted as (loser_name, loser_id)]\"},\n}}",
    "cot": "\nFollow these steps to create your notebook, using chain-of-thought reasoning at each stage:\n\n1. List Directory Contents:\n<analysis_planning>\n- Consider how to use the list_workdir tool to recursively list the directory contents.\n- Think about how to organize and present this information clearly in the notebook.\n- List potential challenges in interpreting the directory structure.\n- Consider how the directory structure might inform your approach to the analysis.\n</analysis_planning>\nPlace the output of the list_workdir tool inside <directory_contents> tags.\n\n2. Load Data and Perform Descriptive Statistics:\n<analysis_planning>\n- Identify which data files are most relevant to resolving the task. List these files.\n- Plan how to load these files efficiently in R.\n- List the specific descriptive statistics you plan to use (e.g., summary(), str(), head()).\n- Consider potential issues like missing data or unexpected formats. How will you handle each?\n- Plan how to present this information clearly in the notebook.\n- Write down key statistics you expect to see and how you'll interpret them.\n- Consider potential data quality issues and how you'll address them.\n</analysis_planning>\nExecute your plan to load data and perform descriptive statistics.\n\n3. Develop Analysis Plan:\n<analysis_planning>\n- Break down each task into testable components. List these components.\n- For each component, list appropriate statistical tests or visualizations.\n- Consider alternative approaches for each component and justify your choices.\n- Identify potential confounding factors and how to address them.\n- Plan the sequence of your analysis steps, explaining the rationale for each.\n- Consider how this analysis plan will be documented in the notebook.\n- List potential statistical assumptions for your chosen methods and how you'll test them.\n- Think about how your analysis plan addresses your original task.\n</analysis_planning>\nWrite out your analysis plan as comments in the notebook.\n\n4. Execute Analysis Plan:\n<analysis_planning>\n- For each step in your analysis plan, list the R or bash functions and libraries you'll use.\n- Think about how to structure your code for readability and efficiency.\n- Plan how to document your code with clear comments.\n- Consider how to present results clearly, using tables or visualizations where appropriate.\n- Ensure that all outputs are clearly labeled and explained in the context of the task.\n- Plan how you'll interpret each result in relation to the original task.\n- Consider potential unexpected results and how you'll handle them.\n</analysis_planning>\nExecute your analysis plan, creating new cells as needed.\n\n5. Conclude and Submit Answer:\n<thought_process>\n- Reflect on how your results relate to the original task.\n- Consider any limitations or uncertainties in your analysis.\n- Plan a concise summary of your findings.\n- Think about how to phrase your conclusion as clear statements.\n- Consider any additional insights or patterns you've noticed during the analysis.\n- Think about potential follow-up questions or areas for further investigation.\n</thought_process>\n",
    "guideline": "\nGeneral Guidelines:\n- Write small to medium-sized cells for easier debugging.\n- Edit existing cells by their index number when fixing bugs, rather than creating new ones.\n- Check dataframe shapes before printing. Use head() for large dataframes.\n- Ensure each cell executes successfully before moving to the next.\n- Assume you already have the packages you need installed and only install new ones if you receive errors.\n- All cells are by default R cells. Use R or bash tools for all analysis.\n- You can use bash cells by adding %%bash to the first line of the cell or running a subprocess.\n\nGuidelines for using the R programming language:\n1. Load packages using this format to minimize verbose output:\n```r\nif (!requireNamespace(\"package_name\", quietly = TRUE)) {{\n    install.packages(\"package_name\")\n}}\nsuppressPackageStartupMessages(library(package_name))\n```\n2. You must use the tidyverse wherever possible: dplyr, tidyr, ggplot2, readr, stringr, forcats, purrr, tibble, and lubridate.\n\n3. All plots must be made using ggplot2. Here is an example of how to make a plot:\n\n# Create a density scatter plot of FSC-A vs SSC-A\nplot_data <- as.data.frame(dmso_data[, c(\"FSC-A\", \"SSC-A\")])\nscatter_plot <- ggplot2::ggplot(plot_data, ggplot2::aes(x = `FSC-A`, y = `SSC-A`)) +\nggplot2::geom_hex(bins = 100) +\nggplot2::scale_fill_viridis_c(trans = \"log10\") +\nggplot2::labs(\n    title = \"FSC-A vs SSC-A Density Plot (DMSO Control)\",\n    x = \"FSC-A\",\n    y = \"SSC-A\"\n) +\nggplot2::theme_minimal()\n\n3. Use explicit namespace qualification for functions. For example, use dplyr::select() instead of select().\n\n4. For data operations, suppress messages about column name repairs:\n```r\nvariable_name <- read_excel(\"<fpath>.csv\", col_names = FALSE, .name_repair = \"minimal\")\n```\n",
    "data_interpretation_system_message": "You are a precise data analysis assistant interpreting experimental biological data.",
    "data_interpretation_content_message": "You are an expert biochemist. Review the following experimental data in the context of the research goal: \"{goal}\".\nData:\n{data_html}\n\nYour task is to extract meaningful information to guide future hypothesis generation. Please provide four answers:\n1.  **List of drugs tested in data:** List out all the drugs tested in this dataset.\n2.  **Summary of Key Findings and Insights:** Concisely summarize the main trends, significant results (e.g., top performers, ineffective treatments), or patterns observed in the data that are directly relevant to the research goal. Focus on comparisons and magnitudes.\n3.  **Specific Questions Raised:** Based *only* on this data and the research goal, list specific, answerable scientific questions that arise. These questions might guide further literature searches or experimental design. If the data is clear and raises no questions, state that clearly.\n4.  **Mechanistic Insights:** What are the key biological or biochemical mechanisms suggested by the data? What are the potential biological pathways or processes that explain the observed results, with respect to the research goal?\n\nFormat your response in a string, separating each of the four answers with <>. The **List of drugs tested in data** should be in a comma separated string. Then there should be a <>. The **Summary of Key Findings and Insights** should be in a single paragraph. Then there should be a <>. **Specific Questions Raised** should be in a numbered list, with each question separated by a new line. Then there should be a <>. Finally, **Mechanistic Insights** should be a bulleted list, with each insight separated by a new line.\n",
    "followup_system_message": "You are an expert experimental biologist and research strategist. Your task is to suggest follow-up experiments based on the provided data analysis summary, questions, and mechanistic insights. Focus on experiments that directly address knowledge gaps or test hypotheses suggested by the initial data interpretation. It is not necessary to propose a follow-up experiment if there is nothing significant to follow up on.",
    "followup_content_message": "\n    Context: The overall research goal is \"{goal}\".\n\n    An initial analysis of experimental data yielded the following:\n\n    Analysis Summary:\n    {analysis_summary}\n\n    Potential Mechanistic Insights:\n    {mechanistic_insights}\n\n    Questions Raised:\n    {questions_raised}\n\n    Task: Based *only* on the summary and insights above, suggest if specific and valuable follow-up experiments, or output none if none are necessary.\n\n    For each assay suggestion, provide a string of:\n    Assay Name: The specific type of assay (e.g., 'RNA-seq', 'Flow Cytometry', 'Western Blot', 'High-Content Imaging', 'ELISA', 'qPCR', 'Co-Immunoprecipitation', 'Metabolomics'). Be specific.\n    Reasoning: A concise scientific reason explaining *why* this specific assay is the logical next step to investigate the mechanisms, confirm findings, or address questions raised by the initial analysis summary and insights. Explain what specific question this assay will answer.\n\n    If there are multiple assays suggested, separate the assay suggestions with two new lines.\n    \n",
    "general_notebook_guidelines": "\nGeneral Guidelines:\n- Write small to medium-sized cells for easier debugging.\n- Edit existing cells by their index number when fixing bugs, rather than creating new ones.\n- Check dataframe shapes before printing. Use head() for large dataframes.\n- Ensure each cell executes successfully before moving to the next.\n- Assume you already have the packages you need installed and only install new ones if you receive errors.\n- If you need to install packages, use pip or mamba.\n- All cells are by default {language} cells. Use {language} or bash tools for all analysis.\n- You can use bash cells by adding %%bash to the first line of the cell or running a subprocess.\n- You can only create code cells, no markdown cells.\n",
    "r_specific_guidelines": "Guidelines for using the R programming language:\n1. Load packages using this format to minimize verbose output:\n   ```r\n   if (!requireNamespace(\"package_name\", quietly = TRUE)) {{\n     install.packages(\"package_name\")\n   }}\n   suppressPackageStartupMessages(library(package_name))\n   ```\n2. You must use the tidyverse wherever possible: dplyr, tidyr, ggplot2, readr, stringr, forcats, purrr, tibble, and lubridate.\n\n3. All plots must be made using ggplot2. Here is an example of how to make a plot:\n\n   # Create a density scatter plot of FSC-A vs SSC-A\nplot_data <- as.data.frame(dmso_data[, c(\"FSC-A\", \"SSC-A\")])\nscatter_plot <- ggplot2::ggplot(plot_data, ggplot2::aes(x = `FSC-A`, y = `SSC-A`)) +\n  ggplot2::geom_hex(bins = 100) +\n  ggplot2::scale_fill_viridis_c(trans = \"log10\") +\n  ggplot2::labs(\n    title = \"FSC-A vs SSC-A Density Plot (DMSO Control)\",\n    x = \"FSC-A\",\n    y = \"SSC-A\"\n  ) +\n  ggplot2::theme_minimal()\n\n3. Use explicit namespace qualification for functions. For example, use dplyr::select() instead of select().\n\n4. For data operations, suppress messages about column name repairs:\n   ```r\n   variable_name <- read_excel(\"<fpath>.csv\", col_names = FALSE, .name_repair = \"minimal\")\n   ```\n",
    "cot_agnostic": "\nFollow these steps to create your notebook, using chain-of-thought reasoning at each stage:\n\n1. Load Data and Perform Descriptive Statistics:\n<analysis_planning>\n- Identify which data files are most relevant to resolving the task.\n- Plan how to load these files efficiently in {language}.\n- List the specific descriptive statistics you plan to use (e.g., summary(), str(), head()).\n- Consider potential issues like missing data or unexpected formats. How will you handle each?\n- Plan how to present this information clearly in the notebook.\n- Write down key statistics you expect to see and how you'll interpret them.\n- Consider potential data quality issues and how you'll address them.\n</analysis_planning>\nExecute your plan to load data and perform descriptive statistics.\n\n2. Develop Analysis Plan:\n<analysis_planning>\n- Break down each task into testable components. List these components.\n- For each component, list appropriate statistical tests or visualizations.\n- Consider alternative approaches for each component and justify your choices.\n- Identify potential confounding factors and how to address them.\n- Plan the sequence of your analysis steps, explaining the rationale for each.\n- Consider how this analysis plan will be documented in the notebook.\n- List potential statistical assumptions for your chosen methods and how you'll test them.\n- Think about how your analysis plan addresses your original task.\n</analysis_planning>\nWrite out your analysis plan as comments in the notebook.\n\n3. Execute Analysis Plan:\n<analysis_planning>\n- For each step in your analysis plan, list the {language} or bash functions and libraries you'll use.\n- Think about how to structure your code for readability and efficiency.\n- Plan how to document your code with clear comments.\n- Consider how to present results clearly, using tables or visualizations where appropriate.\n- Ensure that all outputs are clearly labeled and explained in the context of the task.\n- Plan how you'll interpret each result in relation to the original task.\n- Consider potential unexpected results and how you'll handle them.\n</analysis_planning>\nExecute your analysis plan, creating new cells as needed.\n\n4. Conclude and Submit Answer:\n<thought_process>\n- Reflect on how your results relate to the original task.\n- Consider any limitations or uncertainties in your analysis.\n- Plan a concise summary of your findings.\n- Think about how to phrase your conclusion as clear statements.\n- Ensure that the notebook contains all necessary information for another model to derive these answers.\n- Consider any additional insights or patterns you've noticed during the analysis.\n- Think about potential follow-up questions or areas for further investigation.\n</thought_process>\n"
  },
  "num_queries": 2,
  "num_mesh_hypotheses": 5,
  "num_assays": 2,
  "num_candidates": 2,
  "disease_name": "celiac disease",
  "run_folder_name": "celiac_disease_2025-06-13_17-06-12",
  "futurehouse_api_key": "insert_futurehouse_api_key_here",
  "llm_name": "claude-sonnet-4",
  "llm_formatter_name": "o4-mini",
  "llm_config": {
    "model_list": [
      {
        "model_name": "o4-mini",
        "litellm_params": {
          "model": "o4-mini",
          "api_key": null,
          "timeout": 300,
          "reasoning_effort": "high"
        }
      },
      {
        "model_name": "claude-opus-4",
        "litellm_params": {
          "model": "anthropic/claude-opus-4-20250514",
          "api_key": null,
          "timeout": 300,
          "reasoning_effort": "high"
        }
      },
      {
        "model_name": "claude-sonnet-4",
        "litellm_params": {
          "model": "anthropic/claude-sonnet-4-20250514",
          "api_key": null,
          "timeout": 300,
          "reasoning_effort": "high"
        }
      },
      {
        "model_name": "gemini-2.5-flash-preview",
        "litellm_params": {
          "model": "gemini/gemini-2.5-flash-preview-04-17",
          "api_key": null,
          "timeout": 300,
          "reasoning_effort": "high"
        }
      }
    ]
  },
  "agent_settings": {
    "mesh_hyp_lit_search_agent": "job-futurehouse-chimp",
    "assay_lit_search_agent": "job-futurehouse-chimp",
    "assay_hypothesis_report_agent": "job-futurehouse-chimp",
    "candidate_lit_search_agent": "job-futurehouse-chimp",
    "candidate_hypothesis_report_agent": "job-futurehouse-chimp"
  }
}